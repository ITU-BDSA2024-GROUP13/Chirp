@page "/"
@model Chirp.Razor.Pages.PublicModel
@{
    ViewData["Title"] = "Chirp!";
    Layout = "Shared/_Layout";
}

<div>
    <h2> Public Timeline </h2>

    @if (Model.Cheeps.Any())
    {
        <ul id="messagelist" class="cheeps">
            @foreach (var cheep in Model.Cheeps)
            {
                <li>
                    <div class="cheep-content">
                        <strong class="author">
                            <a href="/@cheep.Author">@cheep.Author</a>
                        </strong>
                        <p class="message">
                            @cheep.Message
                        </p>
                        <span class="date">&mdash; @cheep.Timestamp</span>
                    </div>
                </li>
            }
        </ul>
        <div class = "PageNavigationButton">

            <a href = "/?page=@Model.lastPage">
            <button class = "left" id = "button"> 
                <img src="/images/arrow.png" class = "arrowRight"/>
                    Previous 
            </button>
            </a>
            <div id="pagelist">
                @for(int i = 0; i <= Model.count / 32; i++)
                    {
                            <p>
                                <div class = "pagelist">
                                    @if(Model.currentPage == i){
                                    <a href="/?page=@i" id = 'current'>@i</a>
                                    } else{
                                    <a href="/?page=@i">@i</a> 
                                    }
                                </div>
                            </p>
                    }
            </div>
            <a href = "/?page=@Model.nextPage">
                <button class = "right" id = "button">
                    Next
                    <img src="/images/arrow.png" class = "arrow"/>
                </button>
            </a>
        </div>
    }
    else
    {
        <em>There are no cheeps so far.</em>
    }
</div>
